var Experience=function t(){var t={},n=0,e=$("#content"),o,a;return t.stages=2,t.timings=[1,1,1,1,1,1,1,1,1],t.init=function(){t.goToStage(0),$(".next").click(function(){t.nextStage()}),$(".back").click(function(){t.prevStage()}),$(document).keydown(function(n){return 37===n.keyCode?(t.prevStage(),!1):void 0}),$(document).keydown(function(n){return 39===n.keyCode?(t.nextStage(),!1):void 0})},t.getImage=function(){return a},t.startTimer=function(){},t.stopTimer=function(){},t.loadData=function(n){var e=JSON.parse(n);$.extend(t,e)},t.goToStage=function(t){var o=t;e.transition({opacity:"0"},700,"easeInSine").promise().done(function(){e.load("stages/"+t+".php",function(){e.transition({opacity:"1"},700,"easeInSine")})}),n=o},t.nextStage=function(){t.goToStage(n+1)},t.prevStage=function(){t.goToStage(n-1)},t.photoInit=function(){function t(t){video.src=window.URL.createObjectURL(t),localMediaStream=t}function n(t){console.log(t)}video.addEventListener("click",snapshot,!1),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,navigator.getUserMedia&&navigator.getUserMedia(hdConstraints,t,n)},t.startCountdown=function(){var n=3;o=setInterval(function(){$(".number").transition({scale:1,opacity:1},0),$(".countdown-container").css({opacity:1}),0===n&&(t.stopCountdown(),t.takePhoto(),t.showPreview()),console.log(n),$(".number").html(n),$(".number").transition({scale:0,opacity:0},1e3).promise().done(function(){}),n-=1},1e3)},t.takePhoto=function(){localMediaStream&&(ctx.drawImage(video,0,0),a=canvas.toDataURL("image/webp"),console.log(a))},t.showPreview=function(){$(".photo-preview").css({opacity:0}),$(".confirm-panel").show()},t.stopCountdown=function(){$(".countdown-container").css({opacity:0}),clearInterval(o)},t};